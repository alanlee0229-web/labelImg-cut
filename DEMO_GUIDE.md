# LabelImg 增强版 - 使用演示指南

本文档提供LabelImg增强版的详细操作演示，帮助您快速掌握软件的核心功能。

## 📖 目录

1. [启动软件](#启动软件)
2. [基本标注操作](#基本标注操作)
3. [智能分割功能演示](#智能分割功能演示)
4. [批量处理工作流](#批量处理工作流)
5. [标注格式转换](#标注格式转换)
6. [高级功能应用](#高级功能应用)

## 🔧 启动软件

### 方法一：直接运行
```bash
python labelImg.py
```

### 方法二：指定图像或目录启动
```bash
python labelImg.py [图像路径]
python labelImg.py [图像目录] [预定义类别文件]
```

## 🎯 基本标注操作

### 1. 固定区块模式（默认模式）

**操作步骤：**
1. 确保已按 `Q` 切换到固定区块模式
2. 在图像上点击并拖动鼠标，绘制矩形框
3. 松开鼠标后，会弹出标签输入框
4. 输入标签名称，按回车确认
5. 标注框创建完成！

**快捷操作：**
- 拖动标注框移动位置
- 拖动边框调整大小
- 使用方向键微调位置

### 2. 自定义选区模式

**操作步骤：**
1. 按 `E` 切换到自定义选区模式
2. 按 `W` 开始绘制多边形
3. 在图像上依次点击创建顶点
   - 每个点击都会创建一个顶点并连接到上一个点
4. 完成多边形绘制后：
   - 方法一：点击起始点闭合多边形
   - 方法二：按回车键闭合多边形
5. 输入标签名称，按回车确认

**取消绘制：**
- 按 `ESC` 键取消当前正在绘制的多边形

## ✂️ 智能分割功能演示

这是LabelImg增强版最强大的功能！

### 场景一：规则区域分割

**操作步骤：**
1. 使用 `Q` 模式（固定区块模式）
2. 框选包含多个目标的大区域
3. 按 `C` 键执行智能分割
4. 系统会自动生成多个交错布局的小检测框
5. 可以批量修改这些检测框的标签

### 场景二：不规则区域分割

**操作步骤：**
1. 使用 `E` 模式（自定义选区模式）
2. 按 `W` 绘制一个不规则多边形选区
3. 闭合多边形完成选区
4. 按 `C` 键执行智能分割
5. 系统会在不规则区域内生成优化布局的检测框

### 分割参数说明

- **布局方式**：采用整行交错布局
  - 奇数行向右偏移50%区块宽度
  - 优化边界区域利用率
- **间距控制**：区块间保持适当间隙，避免重叠
- **重叠度筛选**：只保留与原选区重叠度高的区块

## 📊 批量处理工作流

### 批量标注工作流

**完整操作流程：**
1. **加载图像集**：
   - 按 `Ctrl+U` 选择图像目录
   - 图像会按顺序加载到文件列表

2. **批量处理**：
   - 对当前图像进行标注或分割
   - 按 `Ctrl+S` 保存当前标注
   - 按 `D` 跳转到下一张图像
   - 重复上述步骤

3. **批量调整**：
   - 使用 `Ctrl+D` 复制当前标注框
   - 在新位置粘贴并调整

### 批量清理工作流

当需要清除当前图像所有标注时：

1. 按 `Ctrl+Shift+A`
2. 在弹出的确认框中选择「是」
3. 所有检测框将被立即清除

## 🔄 标注格式转换

### 切换标注格式

1. 在工具栏上找到格式切换按钮
2. 点击相应按钮切换格式：
   - **PascalVOC**：XML格式，适合大多数场景
   - **YOLO**：TXT格式，适合YOLO系列模型
   - **CreateML**：Apple的CreateML格式

### YOLO格式使用说明

1. 切换到YOLO格式前，确保：
   - 在 `data/predefined_classes.txt` 中定义了所有类别
   - 类别顺序与训练时保持一致

2. 保存后会生成：
   - 每个图像对应的 .txt 文件
   - 一个 classes.txt 文件，包含所有类别定义

## ⚡ 高级功能应用

### 1. 使用预定义类别

**设置方法：**
1. 打开 `data/predefined_classes.txt`
2. 编辑类别列表，每行一个类别
3. 重启软件或按 `Ctrl+R` 重新加载

**使用技巧：**
- 常用类别放在前面，方便快速选择
- 使用默认类别功能加速标注

### 2. 验证模式

**功能说明：** 快速标记已检查过的图像

**使用方法：**
- 按 `Space` 键标记当前图像为已验证
- 已验证图像会显示绿色背景
- 适合快速筛选已完成的图像

### 3. 自定义显示设置

**视图控制：**
- 按 `Ctrl++` 和 `Ctrl+-` 缩放图像
- 使用工具栏按钮调整显示模式：
  - 适应窗口
  - 适应宽度
  - 实际大小

**标签显示：**
- 通过「视图」菜单控制是否显示标签文本

## 🎨 实用操作技巧

### 效率提升技巧

1. **批量复制调整**：
   - 使用 `Ctrl+D` 复制标注框
   - 用方向键精确调整位置

2. **快速切换工具**：
   - `Q` → `E` → `W` → `C` 组合键快速切换不同功能

3. **撤销操作**：
   - 使用工具栏撤销按钮或 `Ctrl+Z`（如果支持）

### 常见问题解决

1. **标注框无法移动**：
   - 确保已选中标注框
   - 检查是否处于正确的编辑模式

2. **自定义选区无法闭合**：
   - 尝试精确点击起始点
   - 或使用回车键强制闭合

3. **快捷键冲突**：
   - 关闭其他可能占用快捷键的程序
   - 确保输入法处于英文状态

## 📝 工作流程示例

### 完整标注工作流示例

```
1. 启动软件：python labelImg.py
2. 打开图像目录：Ctrl+U
3. 切换到需要的模式：Q 或 E
4. 创建标注框或自定义选区
5. 批量处理：
   - 智能分割：C
   - 复制调整：Ctrl+D
   - 保存当前：Ctrl+S
   - 下一张：D
6. 完成所有标注后，检查保存的标注文件
```

---

**提示：** 勤按 `Ctrl+S` 保存你的工作！