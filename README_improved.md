# LabelImg 增强版使用说明

LabelImg 是一款功能强大的图形化图像标注工具，本增强版在此基础上添加了多种智能分割模式，大幅提升了图像标注的效率和灵活性。

## 新增功能亮点

### 1. 多种选区模式

#### 固定区块模式（常规模式）
- **快捷键**：Q
- **功能说明**：传统的矩形框标注模式
- **默认开启**：启动软件时自动进入此模式

#### 自定义选区模式
- **快捷键**：E
- **绘制方式**：按 W 开始绘制，通过多次点击鼠标形成闭合区域
- **特点**：可精确选择图像中的任意不规则区域，非常适合复杂形状的标注
- **操作流程**：
  1. 按 E 切换到自定义选区模式
  2. 按 W 开始绘制选区
  3. 在图像上点击多次以创建多边形顶点
  4. 最后点击起始点或按回车键完成选区闭合

### 2. 智能区域分割功能

#### 一键分割
- **快捷键**：C
- **触发条件**：在任意选区模式下选择区域后
- **功能说明**：将选中区域自动分割为多个小检测框

#### 分割算法演进

##### v1.1 - 整齐网格布局
- 使用规则的矩形网格进行区域划分
- 每个区块之间保持适当间距，避免重叠
- 适合规则形状的均匀分布目标

##### v1.2 - 整行交错布局（优化版）
- 奇数行向右偏移区块宽度的50%
- 无列错位，保持垂直对齐
- 显著提高边界区域的空间利用率
- 更适合目标分布不均匀的场景

#### 智能重叠处理
- 自动计算区块与原选区的重叠度
- 设置智能阈值，只保留与原选区重叠度高的区块
- 确保分割结果的准确性和有效性

## 快捷键总览

| 快捷键 | 功能描述 |
|--------|----------|
| Q | 切换到固定区块模式 |
| E | 切换到自定义选区模式 |
| W | 在自定义选区模式下开始绘制 |
| C | 执行区域分割操作 |
| Ctrl + A | 全选所有检测框 |
| Ctrl + Shift + A | 全选并删除所有检测框 |
| Ctrl + u | 从目录加载所有图像 |
| Ctrl + r | 更改默认标注保存目录 |
| Ctrl + s | 保存标注 |
| Ctrl + d | 复制当前标签和矩形框 |
| Space | 将当前图像标记为已验证 |
| del | 删除选中的矩形框 |

## 最佳实践

### 场景一：规则物体批量标注
1. 使用 Q 进入固定区块模式
2. 框选包含多个规则物体的区域
3. 按 C 进行智能分割
4. 根据需要调整生成的检测框

### 场景二：不规则区域精确标注
1. 使用 E 进入自定义选区模式
2. 按 W 开始绘制多边形，精确勾勒目标区域边界
3. 按 C 执行区域分割
4. 系统会在不规则区域内生成优化布局的检测框

## 使用示例对比

### 传统模式 vs 增强模式

传统模式下，标注大量相似目标需要逐个手动创建矩形框，耗时且精度难以保证。

增强模式通过自定义选区 + 智能分割，可以一次性处理整个区域，自动生成多个检测框，效率提升数倍。

### v1.1 vs v1.2 分割效果

**v1.1 整齐网格版**：区块排列规则，适合规则排列的场景，但边界区域可能存在浪费。

**v1.2 整行交错版**：通过行偏移优化布局，提高空间利用率，边界区域处理更高效，整体覆盖更均匀。

## 安装说明

请参考原始 README.rst 文件中的安装步骤。本增强版保持与原版相同的安装方式，无需额外配置。

## 注意事项

1. 在使用自定义选区模式时，请确保绘制的多边形形成闭合区域
2. 分割操作后生成的检测框可以根据需要进一步手动调整
3. 对于特别复杂的场景，可能需要结合多种模式使用以达到最佳效果

## 许可证

保持与原版 LabelImg 相同的 MIT 许可证